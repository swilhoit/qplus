{"version":3,"file":"index3-B10NH6Lj.js","sources":["../../node_modules/rxjs/dist/esm5/internal/operators/pairwise.js","../../node_modules/sanity/lib/_chunks-es/index3.mjs"],"sourcesContent":["import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function pairwise() {\n    return operate(function (source, subscriber) {\n        var prev;\n        var hasPrev = false;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var p = prev;\n            prev = value;\n            hasPrev && subscriber.next([p, value]);\n            hasPrev = true;\n        }));\n    });\n}\n//# sourceMappingURL=pairwise.js.map","import { jsxs, jsx } from \"react/jsx-runtime\";\nimport { c } from \"react-compiler-runtime\";\nimport { useState, useEffect, memo, Fragment } from \"react\";\nimport { isRecord, useDocumentStore, useTranslation, usePerspective, useEditState, useSchema, unstable_useValuePreview, _isCustomDocumentTypeDefinition, useWorkspace, SourceProvider } from \"sanity\";\nimport { generateHelpUrl, Button, ErrorBoundary } from \"./generate-help-url.esm.mjs\";\nimport { useStructureTool, LOADING_PANE, useDocumentLastRev, PaneLayout, LoadingPane, StructureToolPane, setActivePanes } from \"./pane.mjs\";\nimport { structureLocaleNamespace, SerializeError, StructureToolProvider } from \"./StructureToolProvider.mjs\";\nimport { useRouter, useRouterState } from \"sanity/router\";\nimport omit from \"lodash/omit.js\";\nimport { from, of, isObservable, firstValueFrom, NEVER, concat, ReplaySubject } from \"rxjs\";\nimport { nanoid } from \"nanoid\";\nimport { switchMap, publishReplay, refCount, map, startWith, pairwise, scan, distinctUntilChanged } from \"rxjs/operators\";\nimport { uuid } from \"@sanity/uuid\";\nimport { SyncIcon, WarningOutlineIcon } from \"@sanity/icons\";\nimport { Stack, Text, Code, Box, Card, Container, Heading, Flex, useToast, useTheme, PortalProvider } from \"@sanity/ui\";\nimport { styled } from \"styled-components\";\nimport \"../_singletons.mjs\";\nimport { isHotkey } from \"is-hotkey-esm\";\nimport isEqual from \"lodash/isEqual.js\";\nclass PaneResolutionError extends Error {\n  constructor({\n    message,\n    context,\n    helpId,\n    cause\n  }) {\n    super(message), this.name = \"PaneResolutionError\", this.context = context, this.helpId = helpId, this.cause = cause;\n  }\n}\nconst randomIdCache = /* @__PURE__ */ new WeakMap();\nfunction assignId(obj) {\n  const cachedValue = randomIdCache.get(obj);\n  if (cachedValue) return cachedValue;\n  const id = nanoid();\n  return randomIdCache.set(obj, id), id;\n}\nconst isPromise = (thing) => !!thing && typeof thing?.then == \"function\", isSerializable = (thing) => isRecord(thing) ? typeof thing.serialize == \"function\" : !1, rethrowWithPaneResolutionErrors = (next) => (unresolvedPane, context, flatIndex) => {\n  try {\n    return next(unresolvedPane, context, flatIndex);\n  } catch (e) {\n    throw e instanceof PaneResolutionError ? e : new PaneResolutionError({\n      message: typeof e?.message == \"string\" ? e.message : \"\",\n      context,\n      cause: e\n    });\n  }\n}, wrapWithPublishReplay = (next) => (...args) => next(...args).pipe(\n  // need to add publishReplay + refCount to ensure new subscribers always\n  // get an emission. without this, memoized observables may get stuck\n  // waiting for their first emissions resulting in a loading pane\n  publishReplay(1),\n  refCount()\n);\nfunction createPaneResolver(middleware) {\n  const resolvePane = rethrowWithPaneResolutionErrors(wrapWithPublishReplay(middleware((unresolvedPane, context, flatIndex) => {\n    if (!unresolvedPane)\n      throw new PaneResolutionError({\n        message: \"Pane returned no child\",\n        context,\n        helpId: \"structure-item-returned-no-child\"\n      });\n    return isPromise(unresolvedPane) || isObservable(unresolvedPane) ? from(unresolvedPane).pipe(switchMap((result) => resolvePane(result, context, flatIndex))) : isSerializable(unresolvedPane) ? resolvePane(unresolvedPane.serialize(context), context, flatIndex) : typeof unresolvedPane == \"function\" ? resolvePane(unresolvedPane(context.id, context), context, flatIndex) : of(unresolvedPane);\n  })));\n  return resolvePane;\n}\nconst bindCache = /* @__PURE__ */ new WeakMap();\nfunction memoBind(obj, methodKey) {\n  const boundMethods = bindCache.get(obj) || /* @__PURE__ */ new Map();\n  if (boundMethods) {\n    const bound2 = boundMethods.get(methodKey);\n    if (bound2) return bound2;\n  }\n  const method = obj[methodKey];\n  if (typeof method != \"function\")\n    throw new Error(`Expected property \\`${methodKey}\\` to be a function but got ${typeof method} instead.`);\n  const bound = method.bind(obj);\n  return boundMethods.set(methodKey, bound), bindCache.set(obj, boundMethods), bound;\n}\nasync function resolveIntent(options) {\n  const resolvedPaneCache = /* @__PURE__ */ new Map(), resolvePane = createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n    const key = unresolvedPane && `${assignId(unresolvedPane)}-${context.path.join(\"__\")}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n    if (cachedResolvedPane) return cachedResolvedPane;\n    const result = nextFn(unresolvedPane, context, flatIndex);\n    return key && resolvedPaneCache.set(key, result), result;\n  }), fallbackEditorPanes = [[{\n    id: `__edit__${options.params.id}`,\n    params: {\n      ...omit(options.params, [\"id\"]),\n      type: options.params.type\n    },\n    payload: options.payload\n  }]];\n  async function traverse({\n    currentId,\n    flatIndex,\n    intent,\n    params,\n    parent: parent2,\n    path,\n    payload,\n    unresolvedPane,\n    levelIndex,\n    structureContext\n  }) {\n    if (!unresolvedPane) return [];\n    const {\n      id: targetId,\n      type: schemaTypeName,\n      ...otherParams\n    } = params, resolvedPane = await firstValueFrom(resolvePane(unresolvedPane, {\n      id: currentId,\n      splitIndex: 0,\n      parent: parent2,\n      path,\n      index: flatIndex,\n      params: {},\n      payload: void 0,\n      structureContext\n    }, flatIndex));\n    return resolvedPane.type === \"document\" && resolvedPane.id === targetId ? [{\n      panes: [...path.slice(0, path.length - 1).map((i) => [{\n        id: i\n      }]), [{\n        id: targetId,\n        params: otherParams,\n        payload\n      }]],\n      depthIndex: path.length,\n      levelIndex\n    }] : (\n      // if the resolve pane's `canHandleIntent` returns true, then resolve\n      resolvedPane.canHandleIntent?.(intent, params, {\n        pane: resolvedPane,\n        index: flatIndex\n      }) || // if the pane's `canHandleIntent` did not return true, then match against\n      // this default case. we will resolve the intent if:\n      resolvedPane.type === \"documentList\" && // 1. the schema type matches (this required for the document to render)\n      resolvedPane.schemaTypeName === schemaTypeName && // 2. the filter is the default filter.\n      //\n      // NOTE: this case is to prevent false positive matches where the user\n      // has configured a more specific filter for a particular type. In that\n      // case, the user can implement their own `canHandleIntent` function\n      resolvedPane.options.filter === \"_type == $type\" ? [{\n        panes: [\n          // map the current path to router panes\n          ...path.map((id) => [{\n            id\n          }]),\n          // then augment with the intents IDs and params\n          [{\n            id: params.id,\n            params: otherParams,\n            payload\n          }]\n        ],\n        depthIndex: path.length,\n        levelIndex\n      }] : resolvedPane.type === \"list\" && resolvedPane.child && resolvedPane.items ? (await Promise.all(resolvedPane.items.map((item, nextLevelIndex) => item.type === \"divider\" ? Promise.resolve([]) : traverse({\n        currentId: item._id || item.id,\n        flatIndex: flatIndex + 1,\n        intent,\n        params,\n        parent: resolvedPane,\n        path: [...path, item.id],\n        payload,\n        unresolvedPane: typeof resolvedPane.child == \"function\" ? memoBind(resolvedPane, \"child\") : resolvedPane.child,\n        levelIndex: nextLevelIndex,\n        structureContext\n      })))).flat() : []\n    );\n  }\n  const closestPaneToRoot = (await traverse({\n    currentId: \"root\",\n    flatIndex: 0,\n    levelIndex: 0,\n    intent: options.intent,\n    params: options.params,\n    parent: null,\n    path: [],\n    payload: options.payload,\n    unresolvedPane: options.rootPaneNode,\n    structureContext: options.structureContext\n  })).sort((a, b) => a.depthIndex === b.depthIndex ? a.levelIndex - b.levelIndex : a.depthIndex - b.depthIndex)[0];\n  return closestPaneToRoot ? closestPaneToRoot.panes : fallbackEditorPanes;\n}\nconst fallbackEditorChild = (nodeId, context) => {\n  const id = nodeId.replace(/^__edit__/, \"\"), {\n    params,\n    payload,\n    structureContext: {\n      resolveDocumentNode\n    }\n  } = context, {\n    type,\n    template\n  } = params;\n  if (!type)\n    throw new Error(`Document type for document with ID ${id} was not provided in the router params.`);\n  let defaultDocumentBuilder = resolveDocumentNode({\n    schemaType: type,\n    documentId: id\n  }).id(\"editor\");\n  return template && (defaultDocumentBuilder = defaultDocumentBuilder.initialValueTemplate(template, payload)), defaultDocumentBuilder.serialize();\n};\nfunction hashContext(context) {\n  return `contextHash(${JSON.stringify({\n    id: context.id,\n    parentId: parent && assignId(parent),\n    path: context.path,\n    index: context.index,\n    splitIndex: context.splitIndex,\n    serializeOptionsIndex: context.serializeOptions?.index,\n    serializeOptionsPath: context.serializeOptions?.path\n  })})`;\n}\nconst hashResolvedPaneMeta = (meta) => {\n  const normalized = {\n    type: meta.type,\n    id: meta.routerPaneSibling.id,\n    params: meta.routerPaneSibling.params || {},\n    payload: meta.routerPaneSibling.payload || null,\n    flatIndex: meta.flatIndex,\n    groupIndex: meta.groupIndex,\n    siblingIndex: meta.siblingIndex,\n    path: meta.path,\n    paneNode: meta.type === \"resolvedMeta\" ? assignId(meta.paneNode) : null\n  };\n  return `metaHash(${JSON.stringify(normalized)})`;\n};\nfunction resolvePaneTree({\n  unresolvedPane,\n  flattenedRouterPanes,\n  parent: parent2,\n  path,\n  resolvePane,\n  structureContext\n}) {\n  const [current, ...rest] = flattenedRouterPanes, next = rest[0], context = {\n    id: current.routerPaneSibling.id,\n    splitIndex: current.siblingIndex,\n    parent: parent2,\n    path: [...path, current.routerPaneSibling.id],\n    index: current.flatIndex,\n    params: current.routerPaneSibling.params || {},\n    payload: current.routerPaneSibling.payload,\n    structureContext\n  };\n  try {\n    return resolvePane(unresolvedPane, context, current.flatIndex).pipe(\n      // this switch map receives a resolved pane\n      switchMap((paneNode) => {\n        const resolvedPaneMeta = {\n          type: \"resolvedMeta\",\n          ...current,\n          paneNode,\n          path: context.path\n        }, loadingPanes = rest.map((i, restIndex) => ({\n          type: \"loading\",\n          path: [...context.path, ...rest.slice(restIndex).map((_, currentIndex) => `[${i.flatIndex + currentIndex}]`)],\n          paneNode: null,\n          ...i\n        }));\n        if (!rest.length)\n          return of([resolvedPaneMeta]);\n        let nextStream;\n        return (\n          /* the fallback editor case */\n          next?.routerPaneSibling.id.startsWith(\"__edit__\") ? nextStream = resolvePaneTree({\n            unresolvedPane: fallbackEditorChild,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }) : current.groupIndex === next?.groupIndex ? nextStream = resolvePaneTree({\n            unresolvedPane,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path,\n            resolvePane,\n            structureContext\n          }) : nextStream = resolvePaneTree({\n            unresolvedPane: typeof paneNode.child == \"function\" ? memoBind(paneNode, \"child\") : paneNode.child,\n            flattenedRouterPanes: rest,\n            parent: paneNode,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }), concat(\n            // we emit the loading panes first in a concat (this emits immediately)\n            of([resolvedPaneMeta, ...loadingPanes]),\n            // then whenever the next stream is done, the results will be combined.\n            nextStream.pipe(map((nextResolvedPanes) => [resolvedPaneMeta, ...nextResolvedPanes]))\n          )\n        );\n      })\n    );\n  } catch (e) {\n    if (e instanceof PaneResolutionError && (e.context && console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex > 0 ? ` for split pane index ${e.context.splitIndex}` : \"\"}: ${e.message}${e.helpId ? ` - see ${generateHelpUrl(e.helpId)}` : \"\"}`, e), e.helpId === \"structure-item-returned-no-child\"))\n      return of([]);\n    throw e;\n  }\n}\nfunction createResolvedPaneNodeStream({\n  routerPanesStream,\n  rootPaneNode,\n  initialCacheState = {\n    cacheKeysByFlatIndex: [],\n    flattenedRouterPanes: [],\n    resolvedPaneCache: /* @__PURE__ */ new Map(),\n    resolvePane: () => NEVER\n  },\n  structureContext\n}) {\n  return routerPanesStream.pipe(\n    // add in implicit \"root\" router pane\n    map((rawRouterPanes) => [[{\n      id: \"root\"\n    }], ...rawRouterPanes]),\n    // create flattened router panes\n    map((routerPanes) => routerPanes.flatMap((routerPaneGroup, groupIndex) => routerPaneGroup.map((routerPaneSibling, siblingIndex) => ({\n      routerPaneSibling,\n      groupIndex,\n      siblingIndex\n    }))).map((i, index) => ({\n      ...i,\n      flatIndex: index\n    }))),\n    // calculate a \"diffIndex\" used for clearing the memo cache\n    startWith([]),\n    pairwise(),\n    map(([prev, curr]) => {\n      for (let i = 0; i < curr.length; i++) {\n        const prevValue = prev[i], currValue = curr[i];\n        if (!isEqual(prevValue, currValue))\n          return {\n            flattenedRouterPanes: curr,\n            diffIndex: i\n          };\n      }\n      return {\n        flattenedRouterPanes: curr,\n        diffIndex: curr.length\n      };\n    }),\n    // create the memoized `resolvePane` function and manage the memo cache\n    scan((acc, next) => {\n      const {\n        cacheKeysByFlatIndex,\n        resolvedPaneCache\n      } = acc, {\n        flattenedRouterPanes,\n        diffIndex\n      } = next, beforeDiffIndex = cacheKeysByFlatIndex.slice(0, diffIndex + 1), afterDiffIndex = cacheKeysByFlatIndex.slice(diffIndex + 1), keysToKeep = new Set(beforeDiffIndex.flatMap((keySet) => Array.from(keySet))), keysToDelete = afterDiffIndex.flatMap((keySet) => Array.from(keySet)).filter((key) => !keysToKeep.has(key));\n      for (const key of keysToDelete)\n        resolvedPaneCache.delete(key);\n      return {\n        flattenedRouterPanes,\n        cacheKeysByFlatIndex,\n        resolvedPaneCache,\n        resolvePane: createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n          const key = unresolvedPane && `${assignId(unresolvedPane)}-${hashContext(context)}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n          if (cachedResolvedPane) return cachedResolvedPane;\n          const result = nextFn(unresolvedPane, context, flatIndex);\n          if (!key) return result;\n          const cacheKeySet = cacheKeysByFlatIndex[flatIndex] || /* @__PURE__ */ new Set();\n          return cacheKeySet.add(key), cacheKeysByFlatIndex[flatIndex] = cacheKeySet, resolvedPaneCache.set(key, result), result;\n        })\n      };\n    }, initialCacheState),\n    // run the memoized, recursive resolving\n    switchMap(({\n      flattenedRouterPanes,\n      resolvePane\n    }) => resolvePaneTree({\n      unresolvedPane: rootPaneNode,\n      flattenedRouterPanes,\n      parent: null,\n      path: [],\n      resolvePane,\n      structureContext\n    }))\n  ).pipe(\n    // this diffs the previous emission with the current one. if there is a new\n    // loading pane at the same position where a previous pane already had a\n    // resolved value (looking at the IDs to compare), then return the previous\n    // pane instead of the loading pane\n    scan((prev, next) => next.map((nextPane, index) => {\n      const prevPane = prev[index];\n      return !prevPane || nextPane.type !== \"loading\" ? nextPane : prevPane.routerPaneSibling.id === nextPane.routerPaneSibling.id ? prevPane : nextPane;\n    }), []),\n    // this prevents duplicate emissions\n    distinctUntilChanged((prev, next) => {\n      if (prev.length !== next.length) return !1;\n      for (let i = 0; i < next.length; i++) {\n        const prevValue = prev[i], nextValue = next[i];\n        if (hashResolvedPaneMeta(prevValue) !== hashResolvedPaneMeta(nextValue))\n          return !1;\n      }\n      return !0;\n    })\n  );\n}\nfunction useRouterPanesStream() {\n  const $ = c(6), [routerStateSubject] = useState(_temp$5);\n  let t0;\n  $[0] !== routerStateSubject ? (t0 = routerStateSubject.asObservable().pipe(map(_temp2$3)), $[0] = routerStateSubject, $[1] = t0) : t0 = $[1];\n  const routerPanes$ = t0, {\n    state: routerState\n  } = useRouter();\n  let t1, t2;\n  return $[2] !== routerState || $[3] !== routerStateSubject ? (t1 = () => {\n    routerStateSubject.next(routerState);\n  }, t2 = [routerState, routerStateSubject], $[2] = routerState, $[3] = routerStateSubject, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), useEffect(t1, t2), routerPanes$;\n}\nfunction _temp2$3(_routerState) {\n  return _routerState?.panes || [];\n}\nfunction _temp$5() {\n  return new ReplaySubject(1);\n}\nfunction useResolvedPanes() {\n  const $ = c(6), [error, setError] = useState();\n  if (error)\n    throw error;\n  const {\n    structureContext,\n    rootPaneNode\n  } = useStructureTool();\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = {\n    paneDataItems: [],\n    resolvedPanes: [],\n    routerPanes: []\n  }, $[0] = t0) : t0 = $[0];\n  const [data, setData] = useState(t0), routerPanesStream = useRouterPanesStream();\n  let t1, t2;\n  return $[1] !== rootPaneNode || $[2] !== routerPanesStream || $[3] !== structureContext ? (t1 = () => {\n    const subscription = createResolvedPaneNodeStream({\n      rootPaneNode,\n      routerPanesStream,\n      structureContext\n    }).pipe(map(_temp5)).subscribe({\n      next: (result) => setData(result),\n      error: (e) => setError(e)\n    });\n    return () => subscription.unsubscribe();\n  }, t2 = [rootPaneNode, routerPanesStream, structureContext], $[1] = rootPaneNode, $[2] = routerPanesStream, $[3] = structureContext, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), useEffect(t1, t2), data;\n}\nfunction _temp5(resolvedPanes) {\n  const routerPanes = resolvedPanes.reduce(_temp3, []), groupsLen = routerPanes.length, paneDataItems = resolvedPanes.map((pane) => {\n    const {\n      groupIndex,\n      flatIndex,\n      siblingIndex,\n      routerPaneSibling,\n      path\n    } = pane, itemId = routerPaneSibling.id, nextGroup = routerPanes[groupIndex + 1];\n    return {\n      active: groupIndex === groupsLen - 2,\n      childItemId: nextGroup?.[0].id ?? null,\n      index: flatIndex,\n      itemId: routerPaneSibling.id,\n      groupIndex,\n      key: `${pane.type === \"loading\" ? \"unknown\" : pane.paneNode.id}-${itemId}-${siblingIndex}`,\n      pane: pane.type === \"loading\" ? LOADING_PANE : pane.paneNode,\n      params: routerPaneSibling.params || {},\n      path: path.join(\";\"),\n      payload: routerPaneSibling.payload,\n      selected: flatIndex === resolvedPanes.length - 1,\n      siblingIndex\n    };\n  });\n  return {\n    paneDataItems,\n    routerPanes,\n    resolvedPanes: paneDataItems.map(_temp4)\n  };\n}\nfunction _temp4(pane_0) {\n  return pane_0.pane;\n}\nfunction _temp3(acc, next) {\n  const currentGroup = acc[next.groupIndex] || [];\n  return currentGroup[next.siblingIndex] = next.routerPaneSibling, acc[next.groupIndex] = currentGroup, acc;\n}\nasync function ensureDocumentIdAndType(documentStore, id, type) {\n  if (id && type) return {\n    id,\n    type\n  };\n  if (!id && type) return {\n    id: uuid(),\n    type\n  };\n  if (id && !type) {\n    const resolvedType = await firstValueFrom(documentStore.resolveTypeForDocument(id));\n    return {\n      id,\n      type: resolvedType\n    };\n  }\n  throw new PaneResolutionError({\n    message: \"Neither document `id` or `type` was provided when trying to resolve intent.\"\n  });\n}\nconst EMPTY_RECORD = {}, IntentResolver = memo(function() {\n  const $ = c(7), {\n    navigate\n  } = useRouter(), maybeIntent = useRouterState(_temp$4), {\n    rootPaneNode,\n    structureContext\n  } = useStructureTool(), documentStore = useDocumentStore(), [error, setError] = useState(null);\n  if (error)\n    throw error;\n  let t0, t1;\n  return $[0] !== documentStore || $[1] !== maybeIntent || $[2] !== navigate || $[3] !== rootPaneNode || $[4] !== structureContext ? (t0 = () => {\n    if (maybeIntent) {\n      const {\n        intent,\n        params,\n        payload\n      } = maybeIntent;\n      let cancelled = !1;\n      return (async function() {\n        const {\n          id,\n          type\n        } = await ensureDocumentIdAndType(documentStore, typeof params.id == \"string\" ? params.id : void 0, typeof params.type == \"string\" ? params.type : void 0);\n        if (cancelled)\n          return;\n        const panes = await resolveIntent({\n          intent,\n          params: {\n            ...params,\n            id,\n            type\n          },\n          payload,\n          rootPaneNode,\n          structureContext\n        });\n        cancelled || navigate({\n          panes\n        }, {\n          replace: !0\n        });\n      })().catch(setError), () => {\n        cancelled = !0;\n      };\n    }\n  }, t1 = [documentStore, maybeIntent, navigate, rootPaneNode, structureContext], $[0] = documentStore, $[1] = maybeIntent, $[2] = navigate, $[3] = rootPaneNode, $[4] = structureContext, $[5] = t0, $[6] = t1) : (t0 = $[5], t1 = $[6]), useEffect(t0, t1), null;\n});\nfunction _temp$4(routerState) {\n  const intentName = typeof routerState.intent == \"string\" ? routerState.intent : void 0;\n  return intentName ? {\n    intent: intentName,\n    params: isRecord(routerState.params) ? routerState.params : EMPTY_RECORD,\n    payload: routerState.payload\n  } : void 0;\n}\nconst PathSegment = styled.span`\n  &:not(:last-child)::after {\n    content: ' âž ';\n    opacity: 0.5;\n  }\n`;\nfunction formatStack(stack) {\n  return stack.replace(/\\(\\.\\.\\.\\)\\./g, `(...)\n  .`).replace(/__WEBPACK_IMPORTED_MODULE_\\d+_+/g, \"\").replace(/___default\\./g, \".\").replace(new RegExp(` \\\\(https?:\\\\/\\\\/${window.location.host}`, \"g\"), \" (\");\n}\nfunction StructureError(t0) {\n  const $ = c(74), {\n    error\n  } = t0;\n  if (!(error instanceof PaneResolutionError))\n    throw error;\n  const {\n    cause\n  } = error, {\n    t\n  } = useTranslation(structureLocaleNamespace), stack = cause?.stack || error.stack;\n  let t1;\n  $[0] !== cause || $[1] !== error.message || $[2] !== stack ? (t1 = stack && !(cause instanceof SerializeError) && !error.message.includes(\"Module build failed:\"), $[0] = cause, $[1] = error.message, $[2] = stack, $[3] = t1) : t1 = $[3];\n  const showStack = t1;\n  let T0, T1, T2, handleReload, helpId, t10, t11, t12, t13, t14, t2, t3, t4, t5, t6, t7, t8, t9;\n  if ($[4] !== cause || $[5] !== error.helpId || $[6] !== t) {\n    const path = cause instanceof SerializeError ? cause.path : [];\n    helpId = cause instanceof SerializeError && cause.helpId || error.helpId, handleReload = _temp$3, T2 = Card, t10 = \"fill\", t11 = \"auto\", t12 = 4, t13 = \"border\", t14 = \"critical\", T1 = Container;\n    let t152;\n    $[25] !== t ? (t152 = t(\"structure-error.header.text\"), $[25] = t, $[26] = t152) : t152 = $[26], $[27] !== t152 ? (t9 = /* @__PURE__ */ jsx(Heading, { as: \"h2\", children: t152 }), $[27] = t152, $[28] = t9) : t9 = $[28], T0 = Card, t2 = 4, t3 = 4, t4 = 2, t5 = \"auto\", t6 = 1, t7 = \"inherit\", t8 = path.length > 0 && /* @__PURE__ */ jsxs(Stack, { space: 2, children: [\n      /* @__PURE__ */ jsx(Text, { size: 1, weight: \"medium\", children: t(\"structure-error.structure-path.label\") }),\n      /* @__PURE__ */ jsx(Code, { children: path.slice(1).map(_temp2$2) })\n    ] }), $[4] = cause, $[5] = error.helpId, $[6] = t, $[7] = T0, $[8] = T1, $[9] = T2, $[10] = handleReload, $[11] = helpId, $[12] = t10, $[13] = t11, $[14] = t12, $[15] = t13, $[16] = t14, $[17] = t2, $[18] = t3, $[19] = t4, $[20] = t5, $[21] = t6, $[22] = t7, $[23] = t8, $[24] = t9;\n  } else\n    T0 = $[7], T1 = $[8], T2 = $[9], handleReload = $[10], helpId = $[11], t10 = $[12], t11 = $[13], t12 = $[14], t13 = $[15], t14 = $[16], t2 = $[17], t3 = $[18], t4 = $[19], t5 = $[20], t6 = $[21], t7 = $[22], t8 = $[23], t9 = $[24];\n  let t15;\n  $[29] !== t ? (t15 = t(\"structure-error.error.label\"), $[29] = t, $[30] = t15) : t15 = $[30];\n  let t16;\n  $[31] !== t15 ? (t16 = /* @__PURE__ */ jsx(Text, { size: 1, weight: \"medium\", children: t15 }), $[31] = t15, $[32] = t16) : t16 = $[32];\n  let t17;\n  $[33] !== error.message || $[34] !== showStack || $[35] !== stack ? (t17 = showStack ? formatStack(stack) : error.message, $[33] = error.message, $[34] = showStack, $[35] = stack, $[36] = t17) : t17 = $[36];\n  let t18;\n  $[37] !== t17 ? (t18 = /* @__PURE__ */ jsx(Code, { children: t17 }), $[37] = t17, $[38] = t18) : t18 = $[38];\n  let t19;\n  $[39] !== t16 || $[40] !== t18 ? (t19 = /* @__PURE__ */ jsxs(Stack, { marginTop: 4, space: 2, children: [\n    t16,\n    t18\n  ] }), $[39] = t16, $[40] = t18, $[41] = t19) : t19 = $[41];\n  let t20;\n  $[42] !== helpId || $[43] !== t ? (t20 = helpId && /* @__PURE__ */ jsx(Box, { marginTop: 4, children: /* @__PURE__ */ jsx(Text, { children: /* @__PURE__ */ jsx(\"a\", { href: generateHelpUrl(helpId), rel: \"noopener noreferrer\", target: \"_blank\", children: t(\"structure-error.docs-link.text\") }) }) }), $[42] = helpId, $[43] = t, $[44] = t20) : t20 = $[44];\n  let t21;\n  $[45] !== t ? (t21 = t(\"structure-error.reload-button.text\"), $[45] = t, $[46] = t21) : t21 = $[46];\n  let t22;\n  $[47] !== handleReload || $[48] !== t21 ? (t22 = /* @__PURE__ */ jsx(Box, { marginTop: 4, children: /* @__PURE__ */ jsx(Button, { text: t21, icon: SyncIcon, tone: \"primary\", onClick: handleReload }) }), $[47] = handleReload, $[48] = t21, $[49] = t22) : t22 = $[49];\n  let t23;\n  $[50] !== T0 || $[51] !== t19 || $[52] !== t2 || $[53] !== t20 || $[54] !== t22 || $[55] !== t3 || $[56] !== t4 || $[57] !== t5 || $[58] !== t6 || $[59] !== t7 || $[60] !== t8 ? (t23 = /* @__PURE__ */ jsxs(T0, { marginTop: t2, padding: t3, radius: t4, overflow: t5, shadow: t6, tone: t7, children: [\n    t8,\n    t19,\n    t20,\n    t22\n  ] }), $[50] = T0, $[51] = t19, $[52] = t2, $[53] = t20, $[54] = t22, $[55] = t3, $[56] = t4, $[57] = t5, $[58] = t6, $[59] = t7, $[60] = t8, $[61] = t23) : t23 = $[61];\n  let t24;\n  $[62] !== T1 || $[63] !== t23 || $[64] !== t9 ? (t24 = /* @__PURE__ */ jsxs(T1, { children: [\n    t9,\n    t23\n  ] }), $[62] = T1, $[63] = t23, $[64] = t9, $[65] = t24) : t24 = $[65];\n  let t25;\n  return $[66] !== T2 || $[67] !== t10 || $[68] !== t11 || $[69] !== t12 || $[70] !== t13 || $[71] !== t14 || $[72] !== t24 ? (t25 = /* @__PURE__ */ jsx(T2, { height: t10, overflow: t11, padding: t12, sizing: t13, tone: t14, children: t24 }), $[66] = T2, $[67] = t10, $[68] = t11, $[69] = t12, $[70] = t13, $[71] = t14, $[72] = t24, $[73] = t25) : t25 = $[73], t25;\n}\nfunction _temp2$2(segment, i) {\n  return /* @__PURE__ */ jsx(PathSegment, { children: segment }, `${segment}-${i}`);\n}\nfunction _temp$3() {\n  window.location.reload();\n}\nfunction NoDocumentTypesScreen() {\n  const $ = c(17), {\n    t\n  } = useTranslation(structureLocaleNamespace);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = /* @__PURE__ */ jsx(Box, { children: /* @__PURE__ */ jsx(Text, { size: 1, children: /* @__PURE__ */ jsx(WarningOutlineIcon, {}) }) }), $[0] = t0) : t0 = $[0];\n  let t1;\n  $[1] !== t ? (t1 = t(\"no-document-types-screen.title\"), $[1] = t, $[2] = t1) : t1 = $[2];\n  let t2;\n  $[3] !== t1 ? (t2 = /* @__PURE__ */ jsx(Text, { as: \"h1\", size: 1, weight: \"medium\", children: t1 }), $[3] = t1, $[4] = t2) : t2 = $[4];\n  let t3;\n  $[5] !== t ? (t3 = t(\"no-document-types-screen.subtitle\"), $[5] = t, $[6] = t3) : t3 = $[6];\n  let t4;\n  $[7] !== t3 ? (t4 = /* @__PURE__ */ jsx(Text, { as: \"p\", muted: !0, size: 1, children: t3 }), $[7] = t3, $[8] = t4) : t4 = $[8];\n  let t5;\n  $[9] !== t ? (t5 = t(\"no-document-types-screen.link-text\"), $[9] = t, $[10] = t5) : t5 = $[10];\n  let t6;\n  $[11] !== t5 ? (t6 = /* @__PURE__ */ jsx(Text, { as: \"p\", muted: !0, size: 1, children: /* @__PURE__ */ jsx(\"a\", { href: \"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio\", target: \"_blank\", rel: \"noreferrer\", children: t5 }) }), $[11] = t5, $[12] = t6) : t6 = $[12];\n  let t7;\n  return $[13] !== t2 || $[14] !== t4 || $[15] !== t6 ? (t7 = /* @__PURE__ */ jsx(Card, { height: \"fill\", children: /* @__PURE__ */ jsx(Flex, { align: \"center\", height: \"fill\", justify: \"center\", padding: 4, sizing: \"border\", children: /* @__PURE__ */ jsx(Container, { width: 0, children: /* @__PURE__ */ jsx(Card, { padding: 4, radius: 2, shadow: 1, tone: \"caution\", children: /* @__PURE__ */ jsxs(Flex, { children: [\n    t0,\n    /* @__PURE__ */ jsxs(Stack, { flex: 1, marginLeft: 3, space: 3, children: [\n      t2,\n      t4,\n      t6\n    ] })\n  ] }) }) }) }) }), $[13] = t2, $[14] = t4, $[15] = t6, $[16] = t7) : t7 = $[16], t7;\n}\nconst DocumentTitle = (props) => {\n  const $ = c(7), {\n    documentId,\n    documentType\n  } = props, {\n    selectedReleaseId\n  } = usePerspective(), editState = useEditState(documentId, documentType, \"default\", selectedReleaseId), schema = useSchema(), {\n    t\n  } = useTranslation(structureLocaleNamespace), isNewDocument = !editState?.published && !editState?.draft, documentValue = editState?.version || editState?.draft || editState?.published, schemaType = schema.get(documentType), {\n    value,\n    isLoading: previewValueIsLoading\n  } = unstable_useValuePreview({\n    enabled: !!documentValue,\n    schemaType,\n    value: documentValue\n  }), {\n    lastRevisionDocument\n  } = useDocumentLastRev(documentId, documentType), documentTitle = lastRevisionDocument && !documentValue ? \"\" : isNewDocument ? t(\"browser-document-title.new-document\", {\n    schemaType: schemaType?.title || schemaType?.name\n  }) : value?.title || t(\"browser-document-title.untitled-document\"), settled = editState.ready && !previewValueIsLoading, newTitle = useConstructDocumentTitle(documentTitle);\n  let t0;\n  $[0] !== newTitle || $[1] !== settled ? (t0 = () => {\n    settled && (document.title = newTitle);\n  }, $[0] = newTitle, $[1] = settled, $[2] = t0) : t0 = $[2];\n  let t1;\n  return $[3] !== documentTitle || $[4] !== newTitle || $[5] !== settled ? (t1 = [documentTitle, settled, newTitle], $[3] = documentTitle, $[4] = newTitle, $[5] = settled, $[6] = t1) : t1 = $[6], useEffect(t0, t1), null;\n}, PassthroughTitle = (props) => {\n  const $ = c(5), {\n    title\n  } = props, newTitle = useConstructDocumentTitle(title);\n  let t0;\n  $[0] !== newTitle ? (t0 = () => {\n    document.title = newTitle;\n  }, $[0] = newTitle, $[1] = t0) : t0 = $[1];\n  let t1;\n  return $[2] !== newTitle || $[3] !== title ? (t1 = [newTitle, title], $[2] = newTitle, $[3] = title, $[4] = t1) : t1 = $[4], useEffect(t0, t1), null;\n}, StructureTitle = (props) => {\n  const $ = c(8), {\n    resolvedPanes\n  } = props;\n  if (!resolvedPanes?.length)\n    return null;\n  const lastPane = resolvedPanes[resolvedPanes.length - 1];\n  if (isLoadingPane(lastPane)) {\n    let t02;\n    return $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t02 = /* @__PURE__ */ jsx(PassthroughTitle, {}), $[0] = t02) : t02 = $[0], t02;\n  }\n  if (isDocumentPane(lastPane)) {\n    if (lastPane?.title) {\n      let t03;\n      return $[1] !== lastPane.title ? (t03 = /* @__PURE__ */ jsx(PassthroughTitle, { title: lastPane.title }), $[1] = lastPane.title, $[2] = t03) : t03 = $[2], t03;\n    }\n    let t02;\n    return $[3] !== lastPane.options.id || $[4] !== lastPane.options.type ? (t02 = /* @__PURE__ */ jsx(DocumentTitle, { documentId: lastPane.options.id, documentType: lastPane.options.type }), $[3] = lastPane.options.id, $[4] = lastPane.options.type, $[5] = t02) : t02 = $[5], t02;\n  }\n  const t0 = lastPane?.title;\n  let t1;\n  return $[6] !== t0 ? (t1 = /* @__PURE__ */ jsx(PassthroughTitle, { title: t0 }), $[6] = t0, $[7] = t1) : t1 = $[7], t1;\n};\nfunction useConstructDocumentTitle(activeTitle) {\n  const $ = c(3), structureToolBaseTitle = useStructureTool().structureContext.title;\n  let t0;\n  return $[0] !== activeTitle || $[1] !== structureToolBaseTitle ? (t0 = [activeTitle, structureToolBaseTitle].filter(_temp$2), $[0] = activeTitle, $[1] = structureToolBaseTitle, $[2] = t0) : t0 = $[2], t0.join(\" | \");\n}\nfunction _temp$2(title) {\n  return title;\n}\nfunction isDocumentPane(pane) {\n  return pane !== LOADING_PANE && pane.type === \"document\";\n}\nfunction isLoadingPane(pane) {\n  return pane === LOADING_PANE;\n}\nconst StyledPaneLayout = styled(PaneLayout)`\n  min-height: 100%;\n  min-width: 320px;\n`, isSaveHotkey = isHotkey(\"mod+s\"), StructureTool = memo(function(t0) {\n  const $ = c(31), {\n    onPaneChange\n  } = t0, {\n    push: pushToast\n  } = useToast(), schema = useSchema(), {\n    layoutCollapsed,\n    setLayoutCollapsed\n  } = useStructureTool(), {\n    paneDataItems,\n    resolvedPanes\n  } = useResolvedPanes(), isResolvingIntent = useRouterState(_temp$1), {\n    sanity: t1\n  } = useTheme(), {\n    media\n  } = t1, [portalElement, setPortalElement] = useState(null);\n  let t2;\n  $[0] !== setLayoutCollapsed ? (t2 = () => setLayoutCollapsed(!0), $[0] = setLayoutCollapsed, $[1] = t2) : t2 = $[1];\n  const handleRootCollapse = t2;\n  let t3;\n  $[2] !== setLayoutCollapsed ? (t3 = () => setLayoutCollapsed(!1), $[2] = setLayoutCollapsed, $[3] = t3) : t3 = $[3];\n  const handleRootExpand = t3;\n  let t4, t5;\n  $[4] !== onPaneChange || $[5] !== resolvedPanes ? (t4 = () => {\n    resolvedPanes.length && onPaneChange(resolvedPanes);\n  }, t5 = [onPaneChange, resolvedPanes], $[4] = onPaneChange, $[5] = resolvedPanes, $[6] = t4, $[7] = t5) : (t4 = $[6], t5 = $[7]), useEffect(t4, t5);\n  let t6, t7;\n  if ($[8] !== pushToast ? (t6 = () => {\n    const handleGlobalKeyDown = (event) => {\n      isSaveHotkey(event) && (event.preventDefault(), pushToast({\n        closable: !0,\n        id: \"auto-save-message\",\n        status: \"info\",\n        title: \"Your work is automatically saved!\",\n        duration: 4e3\n      }));\n    };\n    return window.addEventListener(\"keydown\", handleGlobalKeyDown), () => window.removeEventListener(\"keydown\", handleGlobalKeyDown);\n  }, t7 = [pushToast], $[8] = pushToast, $[9] = t6, $[10] = t7) : (t6 = $[9], t7 = $[10]), useEffect(t6, t7), !schema._original?.types.some(_isCustomDocumentTypeDefinition)) {\n    let t82;\n    return $[11] === Symbol.for(\"react.memo_cache_sentinel\") ? (t82 = /* @__PURE__ */ jsx(NoDocumentTypesScreen, {}), $[11] = t82) : t82 = $[11], t82;\n  }\n  const t8 = portalElement || null, t9 = layoutCollapsed ? void 0 : \"fill\", t10 = media[1];\n  let t11;\n  $[12] !== paneDataItems ? (t11 = paneDataItems.map(_temp2$1), $[12] = paneDataItems, $[13] = t11) : t11 = $[13];\n  let t12;\n  $[14] !== isResolvingIntent || $[15] !== paneDataItems.length ? (t12 = paneDataItems.length <= 1 && isResolvingIntent && /* @__PURE__ */ jsx(LoadingPane, { paneKey: \"intent-resolver\" }), $[14] = isResolvingIntent, $[15] = paneDataItems.length, $[16] = t12) : t12 = $[16];\n  let t13;\n  $[17] !== handleRootCollapse || $[18] !== handleRootExpand || $[19] !== media[1] || $[20] !== t11 || $[21] !== t12 || $[22] !== t9 ? (t13 = /* @__PURE__ */ jsxs(StyledPaneLayout, { flex: 1, height: t9, minWidth: t10, onCollapse: handleRootCollapse, onExpand: handleRootExpand, children: [\n    t11,\n    t12\n  ] }), $[17] = handleRootCollapse, $[18] = handleRootExpand, $[19] = media[1], $[20] = t11, $[21] = t12, $[22] = t9, $[23] = t13) : t13 = $[23];\n  let t14;\n  $[24] !== resolvedPanes ? (t14 = /* @__PURE__ */ jsx(StructureTitle, { resolvedPanes }), $[24] = resolvedPanes, $[25] = t14) : t14 = $[25];\n  let t15;\n  $[26] === Symbol.for(\"react.memo_cache_sentinel\") ? (t15 = /* @__PURE__ */ jsx(\"div\", { \"data-portal\": \"\", ref: setPortalElement }), $[26] = t15) : t15 = $[26];\n  let t16;\n  return $[27] !== t13 || $[28] !== t14 || $[29] !== t8 ? (t16 = /* @__PURE__ */ jsxs(PortalProvider, { element: t8, children: [\n    t13,\n    t14,\n    t15\n  ] }), $[27] = t13, $[28] = t14, $[29] = t8, $[30] = t16) : t16 = $[30], t16;\n});\nfunction _temp$1(routerState) {\n  return typeof routerState.intent == \"string\";\n}\nfunction _temp2$1(t0) {\n  const {\n    active,\n    childItemId,\n    groupIndex,\n    itemId,\n    key: paneKey,\n    pane,\n    index: paneIndex,\n    params: paneParams,\n    path,\n    payload,\n    siblingIndex,\n    selected\n  } = t0;\n  return /* @__PURE__ */ jsx(Fragment, { children: pane === LOADING_PANE ? /* @__PURE__ */ jsx(LoadingPane, { paneKey, path, selected }) : /* @__PURE__ */ jsx(StructureToolPane, { active, groupIndex, index: paneIndex, pane, childItemId, itemId, paneKey, params: paneParams, payload, path, selected, siblingIndex }) }, `${pane === LOADING_PANE ? \"loading\" : pane.type}-${paneIndex}`);\n}\nfunction StructureToolBoundary(t0) {\n  const $ = c(14), {\n    tool: t1\n  } = t0, {\n    options\n  } = t1, {\n    unstable_sources: sources\n  } = useWorkspace(), [firstSource] = sources;\n  let t2;\n  $[0] !== options ? (t2 = options || {}, $[0] = options, $[1] = t2) : t2 = $[1];\n  const {\n    source,\n    defaultDocumentNode,\n    structure\n  } = t2;\n  let t3;\n  $[2] === Symbol.for(\"react.memo_cache_sentinel\") ? (t3 = [], $[2] = t3) : t3 = $[2], useEffect(_temp2, t3);\n  let t4;\n  $[3] === Symbol.for(\"react.memo_cache_sentinel\") ? (t4 = {\n    error: null\n  }, $[3] = t4) : t4 = $[3];\n  const [t5, setError] = useState(t4), {\n    error\n  } = t5;\n  if (error) {\n    let t62;\n    return $[4] !== error ? (t62 = /* @__PURE__ */ jsx(StructureError, { error }), $[4] = error, $[5] = t62) : t62 = $[5], t62;\n  }\n  const t6 = source || firstSource.name;\n  let t7, t8;\n  $[6] === Symbol.for(\"react.memo_cache_sentinel\") ? (t7 = /* @__PURE__ */ jsx(StructureTool, { onPaneChange: setActivePanes }), t8 = /* @__PURE__ */ jsx(IntentResolver, {}), $[6] = t7, $[7] = t8) : (t7 = $[6], t8 = $[7]);\n  let t9;\n  $[8] !== defaultDocumentNode || $[9] !== structure ? (t9 = /* @__PURE__ */ jsxs(StructureToolProvider, { defaultDocumentNode, structure, children: [\n    t7,\n    t8\n  ] }), $[8] = defaultDocumentNode, $[9] = structure, $[10] = t9) : t9 = $[10];\n  let t10;\n  return $[11] !== t6 || $[12] !== t9 ? (t10 = /* @__PURE__ */ jsx(ErrorBoundary, { onCatch: setError, children: /* @__PURE__ */ jsx(SourceProvider, { name: t6, children: t9 }) }), $[11] = t6, $[12] = t9, $[13] = t10) : t10 = $[13], t10;\n}\nfunction _temp2() {\n  return setActivePanes([]), _temp;\n}\nfunction _temp() {\n  return setActivePanes([]);\n}\nexport {\n  StructureToolBoundary as default\n};\n//# sourceMappingURL=index3.mjs.map\n"],"names":["pairwise","operate","source","subscriber","prev","hasPrev","createOperatorSubscriber","value","p","PaneResolutionError","message","context","helpId","cause","randomIdCache","assignId","obj","cachedValue","id","nanoid","isPromise","thing","isSerializable","isRecord","rethrowWithPaneResolutionErrors","next","unresolvedPane","flatIndex","e","wrapWithPublishReplay","args","publishReplay","refCount","createPaneResolver","middleware","resolvePane","isObservable","from","switchMap","result","of","bindCache","memoBind","methodKey","boundMethods","bound2","method","bound","resolveIntent","options","resolvedPaneCache","nextFn","key","cachedResolvedPane","fallbackEditorPanes","omit","traverse","currentId","intent","params","parent2","path","payload","levelIndex","structureContext","targetId","schemaTypeName","otherParams","resolvedPane","firstValueFrom","i","item","nextLevelIndex","closestPaneToRoot","a","b","fallbackEditorChild","nodeId","resolveDocumentNode","type","template","defaultDocumentBuilder","hashContext","hashResolvedPaneMeta","meta","normalized","resolvePaneTree","flattenedRouterPanes","current","rest","paneNode","resolvedPaneMeta","loadingPanes","restIndex","_","currentIndex","nextStream","concat","map","nextResolvedPanes","generateHelpUrl","createResolvedPaneNodeStream","routerPanesStream","rootPaneNode","initialCacheState","NEVER","rawRouterPanes","routerPanes","routerPaneGroup","groupIndex","routerPaneSibling","siblingIndex","index","startWith","curr","prevValue","currValue","isEqual","scan","acc","cacheKeysByFlatIndex","diffIndex","beforeDiffIndex","afterDiffIndex","keysToKeep","keySet","keysToDelete","cacheKeySet","nextPane","prevPane","distinctUntilChanged","nextValue","useRouterPanesStream","$","c","routerStateSubject","useState","_temp$5","t0","_temp2$3","routerPanes$","routerState","useRouter","t1","t2","useEffect","_routerState","ReplaySubject","useResolvedPanes","error","setError","useStructureTool","data","setData","subscription","_temp5","resolvedPanes","_temp3","groupsLen","paneDataItems","pane","itemId","nextGroup","LOADING_PANE","_temp4","pane_0","currentGroup","ensureDocumentIdAndType","documentStore","uuid","resolvedType","EMPTY_RECORD","IntentResolver","memo","navigate","maybeIntent","useRouterState","_temp$4","useDocumentStore","cancelled","panes","intentName","PathSegment","styled","formatStack","stack","StructureError","t","useTranslation","structureLocaleNamespace","SerializeError","showStack","T0","T1","T2","handleReload","t10","t11","t12","t13","t14","t3","t4","t5","t6","t7","t8","t9","_temp$3","Card","Container","t152","jsx","Heading","jsxs","Stack","Text","Code","_temp2$2","t15","t16","t17","t18","t19","t20","Box","t21","t22","Button","SyncIcon","t23","t24","t25","segment","NoDocumentTypesScreen","WarningOutlineIcon","Flex","DocumentTitle","props","documentId","documentType","selectedReleaseId","usePerspective","editState","useEditState","schema","useSchema","isNewDocument","documentValue","schemaType","previewValueIsLoading","unstable_useValuePreview","lastRevisionDocument","useDocumentLastRev","documentTitle","settled","newTitle","useConstructDocumentTitle","PassthroughTitle","title","StructureTitle","lastPane","isLoadingPane","t02","isDocumentPane","t03","activeTitle","structureToolBaseTitle","_temp$2","StyledPaneLayout","PaneLayout","isSaveHotkey","isHotkey","StructureTool","onPaneChange","pushToast","useToast","layoutCollapsed","setLayoutCollapsed","isResolvingIntent","_temp$1","useTheme","media","portalElement","setPortalElement","handleRootCollapse","handleRootExpand","handleGlobalKeyDown","event","_isCustomDocumentTypeDefinition","t82","_temp2$1","LoadingPane","PortalProvider","active","childItemId","paneKey","paneIndex","paneParams","selected","Fragment","StructureToolPane","StructureToolBoundary","sources","useWorkspace","firstSource","defaultDocumentNode","structure","_temp2","t62","setActivePanes","StructureToolProvider","ErrorBoundary","SourceProvider","_temp"],"mappings":"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","x_google_ignoreList":[0,1]}